<template name="profile">
  <body>
    <div class="center" style="margin-top: 100px;">
        <h1>Profile</h1>
        {{#if currentUser}}
            {{#if hasProfile}}
              {{> showProfile}}
            {{else}}
              {{> askProfile}}
            {{/if}}
        {{else}}
        You need to Sign in
        {{/if}}
        {{> showSave}}
      
        {{> personalShowRecipe}}

    </div>
  </body>
</template>

<template name="showProfile">
  <div class="panel panel-warning">
    <div class="panel-heading">
      <h3 class="panel-title">Personal Information</h3>
    </div>
    <div class="panel-body">
      <img src={{content.pic}}>
        <ul>
          <li>Username: {{content.name}}</li>
          <li>Age: {{content.age}}</li>
          <li>Diet Restrictions: {{content.restriction}}</li>
          <li>Preferred Cuisine: {{content.cuisine}}</li>
        </ul>
        <button type="btn" id="delete">Edit</button>
    </div>
  </div>
  <!-- <div name="personInfo">
    <h3>Personal Information</h3>
    <img src={{content.pic}}>
      <ul>
        <li>Username: {{content.name}}</li>
        <li>Age: {{content.age}}</li>
        <li>Diet Restrictions: {{content.restriction}}</li>
        <li>Preferred Cuisine: {{content.cuisine}}</li>
      </ul>
      <button type="btn" id="delete">Edit</button>
  </div> -->
</template>

<template name="personalShowRecipe">
  <div class="panel panel-warning">
    <div class="panel-heading">
      <h3 class="panel-title">Your Recipes</h3>
    </div>
    <div class="panel-body">
      {{#if currentUser}}
      {{#if hasRecipe}}
      <table class="table table-hover">
      <thead>
        <tr><th></th><th width="50%">Dish</th><th width="50%">Description</th><th></th></tr>
      </thead>
      <tbody>
          {{#each recipe in recipeData}}
              {{> personalRecipeRow recipe = recipe}}
          {{/each}}
      </tbody>
      </table>
      {{else}}
      You have not added any recipes for now
      {{/if}}
      {{else}}
      You need an account to write recipes
      {{/if}}
    </div>
  </div>

</template>

<template name="personalRecipeRow">
  {{#if isOwner}}
  <tr>
      <td width="10%"><img src={{recipe.image}} style="width:80px"></td>
      <td style="cursor:pointer"  width="30%"> {{recipe.title}}</td>
      <td width="50%">{{recipe.description}}</td>
      <td><span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></td>
  </tr>
  {{/if}}
</template>

<template name="askProfile">
    <div class="container">
      <select class="image-picker">
            <option data-img-src="bull.png" data-img-class="first" data-img-alt="Page 1" value="1">  Bull  </option>
            <option data-img-src="chick.png" data-img-alt="Page 2" value="2">  Chick  </option>
            <option data-img-src="crab.png" data-img-alt="Page 3" value="3">  Crab  </option>
            <option data-img-src="fox.png" data-img-alt="Page 4" value="4">  Fox  </option>
            <option data-img-src="hedgehog.png" data-img-alt="Page 5" value="5">  Hedgehog  </option>
            <option data-img-src="hippopotamus.png" data-img-alt="Page 6" value="6">  Hippo  </option>
            <option data-img-src="koala.png" data-img-alt="Page 7" value="7">  Koala  </option>
            <option data-img-src="lemur.png" data-img-alt="Page 8" value="8">  Lemur  </option>
            <option data-img-src="pig.png" data-img-alt="Page 9" value="9">  Pig  </option>
            <option data-img-src="tiger.png" data-img-alt="Page 10" value="10"> Tiger </option>
            <option data-img-src="whale.png" data-img-alt="Page 11" value="11"> Whale </option>
            <option data-img-src="zebra.png" data-img-alt="Page 12" data-img-class="last" value="12"> Zebra </option>
      </select>
        <br>Full Name<br><input type="text" id="name_profile" name="name" placeholder="Your full name.."><br>
        Age<br><input type="text" id="age_profile" name="age" placeholder="Your age"><br>
        Your Diet Restrictions <br>
        <textarea id="restriction_profile" name="restriction" placeholder="Write something.." style="height:200px"></textarea><br>
        Preferred Cuisine<br>
        <select id="cuisine_profile" name="cuisine">
        <option value="American">American</option>
        <option value="Italian">Italian</option>
        <option value="Chinese">Chinese</option>
        <option value="French">French</option>
        <option value="Thai">Thai</option>
        </select>
        <br><br>
        <button class="btn" id="submit">Submit</button>
    </div>
</template>

<template name="showSave">
  <div class="panel panel-warning">
    <div class="panel-heading">
      <h3 class="panel-title">Saved Recipes</h3>
    </div>
    <div class="panel-body">
      {{#if currentUser}}
      <table class="table table-hover">
          <thead>
              <tr><th></th><th width="50%">Dish</th><th width="50%">Dish Type</th><th></th></tr>
          </thead>
          <tbody>
            {{#each s in savedRecipe}}
              {{> savedrow saved=s}}
            {{/each}}
          </tbody>
      </table>
      {{else}}
      You need an account to save recipes
      {{/if}}
    </div>
  </div>
  <!-- <h3>Saved</h3>
    {{#if currentUser}}
    <table class="table table-hover">
        <thead>
            <tr><th></th><th width="50%">Dish</th><th width="50%">Dish Type</th><th></th></tr>
        </thead>
        <tbody>
          {{#each s in savedRecipe}}
            {{> savedrow saved=s}}
          {{/each}}
        </tbody>
    </table>
    {{else}}
    You need an account to save recipes
    {{/if}} -->
</template>

<template name="savedrow">
    <tr>
      <td width="10%"><img src={{saved.recipe.image}} style="width:80px"> </td>
      <td class="clickable-row" width="50%">{{saved.recipe.title}}</td>
      <td width="50%">{{saved.recipe.dishTypes.[0]}}</td>
      <!-- <td>{{saved.recipe.healthScore}}</td> -->
      <td><span class="glyphicon glyphicon-remove-circle" style="cursor: pointer;"></span></td>
    </tr>
</template>
